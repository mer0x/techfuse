<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to deploying Kubernetes on bare-metal | Tech Fuse News</title>
<meta name=keywords content="Self-Hosting,DevOps,Homelab,Networking"><meta name=description content="How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial
Introduction
Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers."><meta name=author content><link rel=canonical href=https://mer0x.github.io/techfuse/posts/how-to-deploying-kubernetes-on-bare-metal/><link crossorigin=anonymous href=/techfuse/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://mer0x.github.io/techfuse/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mer0x.github.io/techfuse/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mer0x.github.io/techfuse/favicon-32x32.png><link rel=apple-touch-icon href=https://mer0x.github.io/techfuse/apple-touch-icon.png><link rel=mask-icon href=https://mer0x.github.io/techfuse/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mer0x.github.io/techfuse/posts/how-to-deploying-kubernetes-on-bare-metal/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://mer0x.github.io/techfuse/posts/how-to-deploying-kubernetes-on-bare-metal/"><meta property="og:site_name" content="Tech Fuse News"><meta property="og:title" content="How to deploying Kubernetes on bare-metal"><meta property="og:description" content="How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial Introduction Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-28T16:11:13+00:00"><meta property="article:modified_time" content="2025-02-28T16:11:13+00:00"><meta property="article:tag" content="Self-Hosting"><meta property="article:tag" content="DevOps"><meta property="article:tag" content="Homelab"><meta property="article:tag" content="Networking"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to deploying Kubernetes on bare-metal"><meta name=twitter:description content="How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial
Introduction
Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://mer0x.github.io/techfuse/posts/"},{"@type":"ListItem","position":2,"name":"How to deploying Kubernetes on bare-metal","item":"https://mer0x.github.io/techfuse/posts/how-to-deploying-kubernetes-on-bare-metal/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to deploying Kubernetes on bare-metal","name":"How to deploying Kubernetes on bare-metal","description":"How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial Introduction Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers.\n","keywords":["Self-Hosting","DevOps","Homelab","Networking"],"articleBody":"How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial Introduction Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers.\nWhy Choose Bare-Metal for Kubernetes? Performance: Bare-metal deployments can yield better performance due to direct hardware access and no virtualization overhead. Control: Organizations maintain full control over the software and hardware stack. Cost-Effectiveness: Cost savings can be substantial in scenarios with high resource requirements. Security: Dedicated hardware can reduce the attack surface compared to multitenant cloud environments. Tools for Bare-Metal Kubernetes In this tutorial, we will utilize the following tools:\nDocker: For container management. Ansible: For automating deployment and configuration. Proxmox: As a hypervisor to manage virtual machines if needed. Cloudflare: To manage domain and SSL certificates. Let’s get started.\nPrerequisites Before we delve into deploying Kubernetes on bare-metal, ensure you have the following prerequisites covered:\nAccess to a set of bare-metal servers (at least three for a HA setup). Ubuntu 20.04 LTS installed on these servers. Basic knowledge of Linux command line. Administrative access to your DNS records (Cloudflare account). Ansible installed on a control node. # Install Ansible on your control node sudo apt update \u0026\u0026 sudo apt install -y ansible Ensure your servers are networked together and you have SSH access from your control node.\nImplementation 1. Set up Docker on Each Node You’ll need Docker installed as Kubernetes will use it as its container runtime.\n# Enable Docker repository and install Docker sudo apt update sudo apt install -y apt-transport-https ca-certificates curl software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo apt update sudo apt install -y docker-ce 2. Configure Ansible Inventory Create an Ansible inventory file with the list of your servers:\n# inventory.ini [kubemaster] master1 ansible_host=192.168.1.10 [kubenodes] node1 ansible_host=192.168.1.11 node2 ansible_host=192.168.1.12 [all:vars] ansible_python_interpreter=/usr/bin/python3 3. Prepare Ansible Playbook Create an Ansible playbook to install Kubernetes essentials.\n# kubernetes.yml - hosts: all become: yes tasks: - name: Install dependencies apt: name: \"{{ item }}\" state: present loop: - apt-transport-https - curl - name: Add Kubernetes apt-key apt_key: url: https://packages.cloud.google.com/apt/doc/apt-key.gpg state: present - name: Add Kubernetes repository apt_repository: repo: \"deb http://apt.kubernetes.io/ kubernetes-xenial main\" - name: Install Kubernetes components apt: name: \"{{ item }}\" state: present loop: - kubelet - kubeadm - kubectl - name: Prevent automatic updates apt_mark: name: \"{{ item }}\" state: hold loop: - kubelet - kubeadm - kubectl 4. Execute the Ansible Playbook Run your Ansible playbook to configure the bare-metal servers.\nansible-playbook -i inventory.ini kubernetes.yml 5. Initialize Kubernetes on the Master Node SSH into your master node to initialize the Kubernetes cluster:\nsudo kubeadm init --pod-network-cidr=192.168.0.0/16 Follow post-init instructions provided by kubeadm to configure kubectl access.\n6. Configure Pod Network Apply a networking solution compatible with Kubernetes:\nkubectl apply -f https://docs.projectcalico.org/v3.14/manifests/calico.yaml 7. Join Worker Nodes SSH into each worker node and join them to the cluster using the token generated during master initialization:\nkubeadm join :6443 --token --discovery-token-ca-cert-hash sha256: 8. Set Up DNS and SSL using Cloudflare Configure your domain in Cloudflare to point to your Kubernetes master ingress IP. Use Cloudflare SSL/TLS settings to manage certificates.\nTroubleshooting Common Issues: Node Not Ready: Check kubectl get nodes for conditions such as “NotReady”. Ensure all services are running and network settings are correct. Token Expiry for Worker Nodes: Update the token using kubeadm token create and retry joining nodes. DNS Resolution Issues: Ensure CoreDNS pods are running and configured correctly. Run kubectl describe pod for more detailed diagnostics.\nProtips: Monitoring and Logging: Integrate Prometheus and Grafana for monitoring. Use ELK Stack for logging. Backup Configuration: Regularly back up your configurations and consider tools like Velero for disaster recovery. Conclusion Deploying Kubernetes on bare-metal is a rewarding endeavor that provides enhanced performance, security, and cost control. While it requires more upfront effort compared to cloud-managed services, the gains can be significant for workloads demanding robust and tailored infrastructure setups.\nBy following this guide, you now have the knowledge to set up and run a Kubernetes cluster on your own hardware. As you gain experience, consider diving deeper into Kubernetes native tools like Helm for packaging applications and exploring service mesh technologies such as Istio for advanced traffic management.\nEmbrace the power of the cloud on your own terms and make the most of Kubernetes’ capabilities on bare-metal infrastructure.\n","wordCount":"779","inLanguage":"en","datePublished":"2025-02-28T16:11:13Z","dateModified":"2025-02-28T16:11:13Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://mer0x.github.io/techfuse/posts/how-to-deploying-kubernetes-on-bare-metal/"},"publisher":{"@type":"Organization","name":"Tech Fuse News","logo":{"@type":"ImageObject","url":"https://mer0x.github.io/techfuse/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mer0x.github.io/techfuse/ accesskey=h title="Tech Fuse News (Alt + H)">Tech Fuse News</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to deploying Kubernetes on bare-metal</h1><div class=post-meta><span title='2025-02-28 16:11:13 +0000 UTC'>February 28, 2025</span></div></header><div class=post-content><h1 id=how-to-deploy-kubernetes-on-bare-metal-a-detailed-technical-tutorial>How to Deploy Kubernetes on Bare-Metal: A Detailed Technical Tutorial<a hidden class=anchor aria-hidden=true href=#how-to-deploy-kubernetes-on-bare-metal-a-detailed-technical-tutorial>#</a></h1><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Kubernetes has become a cornerstone for managing containerized applications in production environments. Although cloud platforms like AWS, Google Cloud, and Azure provide powerful managed Kubernetes services, a growing number of organizations are opting to deploy Kubernetes on bare-metal servers. This approach offers increased control, improved performance, and potentially lower costs due to minimized dependencies on cloud vendors. In this comprehensive guide, we will walk through the steps to successfully deploy Kubernetes on bare-metal servers.</p><h3 id=why-choose-bare-metal-for-kubernetes>Why Choose Bare-Metal for Kubernetes?<a hidden class=anchor aria-hidden=true href=#why-choose-bare-metal-for-kubernetes>#</a></h3><ul><li><strong>Performance</strong>: Bare-metal deployments can yield better performance due to direct hardware access and no virtualization overhead.</li><li><strong>Control</strong>: Organizations maintain full control over the software and hardware stack.</li><li><strong>Cost-Effectiveness</strong>: Cost savings can be substantial in scenarios with high resource requirements.</li><li><strong>Security</strong>: Dedicated hardware can reduce the attack surface compared to multitenant cloud environments.</li></ul><h3 id=tools-for-bare-metal-kubernetes>Tools for Bare-Metal Kubernetes<a hidden class=anchor aria-hidden=true href=#tools-for-bare-metal-kubernetes>#</a></h3><p>In this tutorial, we will utilize the following tools:</p><ul><li><strong>Docker</strong>: For container management.</li><li><strong>Ansible</strong>: For automating deployment and configuration.</li><li><strong>Proxmox</strong>: As a hypervisor to manage virtual machines if needed.</li><li><strong>Cloudflare</strong>: To manage domain and SSL certificates.</li></ul><p>Let’s get started.</p><h2 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h2><p>Before we delve into deploying Kubernetes on bare-metal, ensure you have the following prerequisites covered:</p><ul><li>Access to a set of bare-metal servers (at least three for a HA setup).</li><li>Ubuntu 20.04 LTS installed on these servers.</li><li>Basic knowledge of Linux command line.</li><li>Administrative access to your DNS records (Cloudflare account).</li><li>Ansible installed on a control node.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install Ansible on your control node</span>
</span></span><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt install -y ansible
</span></span></code></pre></div><p>Ensure your servers are networked together and you have SSH access from your control node.</p><h2 id=implementation>Implementation<a hidden class=anchor aria-hidden=true href=#implementation>#</a></h2><h3 id=1-set-up-docker-on-each-node>1. Set up Docker on Each Node<a hidden class=anchor aria-hidden=true href=#1-set-up-docker-on-each-node>#</a></h3><p>You&rsquo;ll need Docker installed as Kubernetes will use it as its container runtime.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Enable Docker repository and install Docker</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install -y apt-transport-https ca-certificates curl software-properties-common
</span></span><span style=display:flex><span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</span></span><span style=display:flex><span>sudo add-apt-repository <span style=color:#e6db74>&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span style=color:#66d9ef>$(</span>lsb_release -cs<span style=color:#66d9ef>)</span><span style=color:#e6db74> stable&#34;</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install -y docker-ce
</span></span></code></pre></div><h3 id=2-configure-ansible-inventory>2. Configure Ansible Inventory<a hidden class=anchor aria-hidden=true href=#2-configure-ansible-inventory>#</a></h3><p>Create an Ansible inventory file with the list of your servers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># inventory.ini</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[kubemaster]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>master1 ansible_host</span><span style=color:#f92672>=</span><span style=color:#e6db74>192.168.1.10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[kubenodes]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>node1 ansible_host</span><span style=color:#f92672>=</span><span style=color:#e6db74>192.168.1.11</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>node2 ansible_host</span><span style=color:#f92672>=</span><span style=color:#e6db74>192.168.1.12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[all:vars]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ansible_python_interpreter</span><span style=color:#f92672>=</span><span style=color:#e6db74>/usr/bin/python3</span>
</span></span></code></pre></div><h3 id=3-prepare-ansible-playbook>3. Prepare Ansible Playbook<a hidden class=anchor aria-hidden=true href=#3-prepare-ansible-playbook>#</a></h3><p>Create an Ansible playbook to install Kubernetes essentials.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># kubernetes.yml</span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>hosts</span>: <span style=color:#ae81ff>all</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>become</span>: <span style=color:#66d9ef>yes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>tasks</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install dependencies</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>apt</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;{{ item }}&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>state</span>: <span style=color:#ae81ff>present</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>loop</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>apt-transport-https</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>curl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Add Kubernetes apt-key</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>apt_key</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>url</span>: <span style=color:#ae81ff>https://packages.cloud.google.com/apt/doc/apt-key.gpg</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>state</span>: <span style=color:#ae81ff>present</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Add Kubernetes repository</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>apt_repository</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>repo</span>: <span style=color:#e6db74>&#34;deb http://apt.kubernetes.io/ kubernetes-xenial main&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install Kubernetes components</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>apt</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;{{ item }}&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>state</span>: <span style=color:#ae81ff>present</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>loop</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubelet</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubeadm</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubectl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Prevent automatic updates</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>apt_mark</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;{{ item }}&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>state</span>: <span style=color:#ae81ff>hold</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>loop</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubelet</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubeadm</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>kubectl</span>
</span></span></code></pre></div><h3 id=4-execute-the-ansible-playbook>4. Execute the Ansible Playbook<a hidden class=anchor aria-hidden=true href=#4-execute-the-ansible-playbook>#</a></h3><p>Run your Ansible playbook to configure the bare-metal servers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ansible-playbook -i inventory.ini kubernetes.yml
</span></span></code></pre></div><h3 id=5-initialize-kubernetes-on-the-master-node>5. Initialize Kubernetes on the Master Node<a hidden class=anchor aria-hidden=true href=#5-initialize-kubernetes-on-the-master-node>#</a></h3><p>SSH into your master node to initialize the Kubernetes cluster:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo kubeadm init --pod-network-cidr<span style=color:#f92672>=</span>192.168.0.0/16
</span></span></code></pre></div><p>Follow post-init instructions provided by <code>kubeadm</code> to configure <code>kubectl</code> access.</p><h3 id=6-configure-pod-network>6. Configure Pod Network<a hidden class=anchor aria-hidden=true href=#6-configure-pod-network>#</a></h3><p>Apply a networking solution compatible with Kubernetes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f https://docs.projectcalico.org/v3.14/manifests/calico.yaml
</span></span></code></pre></div><h3 id=7-join-worker-nodes>7. Join Worker Nodes<a hidden class=anchor aria-hidden=true href=#7-join-worker-nodes>#</a></h3><p>SSH into each worker node and join them to the cluster using the token generated during master initialization:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubeadm join &lt;master-ip&gt;:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash sha256:&lt;hash&gt;
</span></span></code></pre></div><h3 id=8-set-up-dns-and-ssl-using-cloudflare>8. Set Up DNS and SSL using Cloudflare<a hidden class=anchor aria-hidden=true href=#8-set-up-dns-and-ssl-using-cloudflare>#</a></h3><p>Configure your domain in Cloudflare to point to your Kubernetes master ingress IP. Use Cloudflare SSL/TLS settings to manage certificates.</p><h2 id=troubleshooting>Troubleshooting<a hidden class=anchor aria-hidden=true href=#troubleshooting>#</a></h2><h3 id=common-issues>Common Issues:<a hidden class=anchor aria-hidden=true href=#common-issues>#</a></h3><ul><li><strong>Node Not Ready</strong>: Check <code>kubectl get nodes</code> for conditions such as &ldquo;NotReady&rdquo;. Ensure all services are running and network settings are correct.</li><li><strong>Token Expiry for Worker Nodes</strong>: Update the token using <code>kubeadm token create</code> and retry joining nodes.</li><li><strong>DNS Resolution Issues</strong>: Ensure CoreDNS pods are running and configured correctly.</li></ul><p>Run <code>kubectl describe pod &lt;pod-name></code> for more detailed diagnostics.</p><h3 id=protips>Protips:<a hidden class=anchor aria-hidden=true href=#protips>#</a></h3><ul><li><strong>Monitoring and Logging</strong>: Integrate Prometheus and Grafana for monitoring. Use ELK Stack for logging.</li><li><strong>Backup Configuration</strong>: Regularly back up your configurations and consider tools like Velero for disaster recovery.</li></ul><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Deploying Kubernetes on bare-metal is a rewarding endeavor that provides enhanced performance, security, and cost control. While it requires more upfront effort compared to cloud-managed services, the gains can be significant for workloads demanding robust and tailored infrastructure setups.</p><p>By following this guide, you now have the knowledge to set up and run a Kubernetes cluster on your own hardware. As you gain experience, consider diving deeper into Kubernetes native tools like Helm for packaging applications and exploring service mesh technologies such as Istio for advanced traffic management.</p><p>Embrace the power of the cloud on your own terms and make the most of Kubernetes&rsquo; capabilities on bare-metal infrastructure.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://mer0x.github.io/techfuse/tags/self-hosting/>Self-Hosting</a></li><li><a href=https://mer0x.github.io/techfuse/tags/devops/>DevOps</a></li><li><a href=https://mer0x.github.io/techfuse/tags/homelab/>Homelab</a></li><li><a href=https://mer0x.github.io/techfuse/tags/networking/>Networking</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://mer0x.github.io/techfuse/>Tech Fuse News</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>